(function(e,o){"use strict";"function"==typeof define&&define.amd?define([],function(){return o.apply(e)}):"object"==typeof exports?module.exports=o.call(e):e.Orup=o.call(e)})("object"==typeof global?global:this,function(){"use strict";function e(){$('[data-toggle="tooltip"]').tooltip(),$(window).scroll(function(e){$(this).scrollTop()>100?$("body").addClass("scroll-collapse"):$("body").removeClass("scroll-collapse"),$(this).scrollTop()>500?$(".btn-totop").fadeIn():$(".btn-totop").fadeOut()}),$("#years-app").html((new Date).getFullYear())}function o(){void 0!==$.fn.select2&&($(".form-select2").select2({placeholder:""}),$(".form-select2-simple").select2({placeholder:"",minimumResultsForSearch:1/0})),$(".btn-totop").length&&$('a.btn-totop[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},1e3,"easeInOutExpo"),!1}})}var t=t||{},r=!1,n=!1,i={modalQuote:"#quoteModal",navQuote:'[data-toggle="getQuote"]',formQuote:"form[name=formQuote]",formNewsletter:"form[name=formNewsletter]",formSearch:"form[name=formSearch]",formCall:"form[name=formCall]"};return t.init=function(){o(),t.rebindClick($(i.navQuote),t.getQuote),t.rebindSubmit($(i.formSearch),t.sendSearch),t.rebindSubmit($(i.formQuote),t.sendQuote),t.rebindSubmit($(i.formNewsletter),t.sendNewsletter),$(i.formCall).length&&t.rebindSubmit($(i.formCall),t.sendCall)},t.isScrolledIntoView=function(e){if($(e).length){var o=$(window).scrollTop(),t=o+$(window).height(),r=$(e).offset().top,n=r+$(e).height();return n<=t&&r>=o}return!1},t.initVerify=function(){return r},t.hasPreload=function(){return n},t.rebindClick=function(e,o){e.unbind("click",o).bind("click",o)},t.rebindSubmit=function(e,o){e.unbind("submit",o).bind("submit",o)},t.resetError=function(){r=!1,$(".error").html(""),$(".form-group").removeClass("has-error")},t.showError=function(e,o){$(e).find(".error").html(o),$(e).addClass("has-error"),!r&&(r=!0)},t.initVerifyFields=function(e,o){e.forEach(function(e){""===$(e).val().trim()&&t.showError($(e+"Form"),o)})},t.isValidEmail=function(e){var o=/^([a-z0-9\-\.]+@([a-z0-9\-]+\.)+[a-z]{2,4})?$/;return o.test(e)},t.isValidPhone=function(e){var o=/^[0]{1}[0-9]{9,10}$/;return o.test(e)},t.isValidLenght=function(e,o){return $(e).val().length>=o},t.preload=function(e,o){n!==o&&((n=o)?$(e).addClass("has-preload"):$(e).removeClass("has-preload"))},t.showModalInfo=function(e,o){$("#modalInfo").remove();var t=$('<div id="modalInfo" class="modal-info"><div class="modal-'+e+' animated fadeInDown hidden"><button type="button" class="btn btn-close btn-simple pull-right" onclick="Orup.closeModalInfo();"><i class="cmsms-icon-cancel-3"></i></button><p>'+o+"</p></div></div>");$("body").append(t),t.find("div").removeClass("hidden"),setTimeout(function(){t.find("div").removeClass("fadeInDown")},1200),setTimeout(function(){t.find("div").addClass("fadeOutUp"),setTimeout(function(){t.remove()},1200)},8e3)},t.closeModalInfo=function(){$("#modalInfo").find("div").addClass("fadeOutUp"),setTimeout(function(){$("#modalInfo").remove()},1200)},t.submitForm=function(e){t.preload(e,!0),setTimeout(function(){t.showModalInfo("error","Désolé, nom de domaine non attribué ! Impossible de soumettre le formulaire."),t.preload(e,!1)},2e3)},t.sendSearch=function(e){e.preventDefault(),""!==$("#tokensearch").val().trim()?t.showModalInfo("error","Désolé, nom de domaine non attribué ! Impossible de soumettre le formulaire."):$("#tokensearch").focus()},t.getQuote=function(e){e.preventDefault(),t.resetError(),$(i.modalQuote).modal("show")},t.isValidQuote=function(){var e=["#quotename","#quotemail","#quotemessage"];return t.initVerifyFields(e,"doit être rempli(e)"),!t.initVerify()&&(t.isValidLenght("#quotename",3)||t.showError("#quotenameForm","doit contenir au moins 3 caractères"),t.isValidEmail($("#quotemail").val())||t.showError("#quotemailForm","n'est pas valide"),t.isValidLenght("#quotemessage",10)||t.showError("#quotemessageForm","doit contenir au moins 10 caractères"),""===$("#quotephone").val().trim()||t.isValidPhone($("#quotephone").val())||t.showError("#quotephoneForm","n'est pas valide"),!t.initVerify()&&(!!$("#quoteaccept").prop("checked")||(t.showError("#quoteacceptForm","Veuillez vérifier cette case"),!1)))},t.sendQuote=function(e){e.preventDefault(),t.resetError(),!t.hasPreload()&&t.isValidQuote()&&t.submitForm("#submitQuoteForm")},t.isValidNewsletter=function(){return""===$("#newsletter").val().trim()?(t.showError("#newsletterForm","doit être rempli(e)"),!1):!!t.isValidEmail($("#newsletter").val())||(t.showError("#newsletterForm","n'est pas valide"),!1)},t.sendNewsletter=function(e){e.preventDefault(),t.resetError(),!t.hasPreload()&&t.isValidNewsletter()&&t.submitForm("#submitNewsletterForm")},t.isValidCall=function(){var e=["#callname","#callphone"];return t.initVerifyFields(e,"doit être rempli(e)"),!t.initVerify()&&(t.isValidLenght("#callname",3)||t.showError("#callnameForm","doit contenir au moins 3 caractères"),t.isValidPhone($("#callphone").val())||t.showError("#callphoneForm","n'est pas valide"),!t.initVerify())},t.sendCall=function(e){e.preventDefault(),t.resetError(),!t.hasPreload()&&t.isValidCall()&&t.submitForm("#submitCallForm")},e(),t}),$(function(){Orup.init()});